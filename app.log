2024-12-07 22:46:41,690 - root - INFO - Processing video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
2024-12-07 22:46:44,126 - botocore.credentials - INFO - Found credentials in environment variables.
2024-12-07 22:46:50,023 - httpx - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-07 22:46:50,034 - root - INFO - Successfully classified video content
2024-12-07 22:46:50,034 - root - INFO - Generating recipe for video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
2024-12-07 22:46:53,405 - httpx - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-07 22:46:53,409 - root - INFO - Recipe generated successfully for video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Processing video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Starting to process video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Checking if video MBLTkCrwIWo exists in Firebase
INFO - Cached data retrieved: None
INFO - Video MBLTkCrwIWo not found in cache, processing...
INFO - Fetching video info for MBLTkCrwIWo
INFO - Fetching transcript for MBLTkCrwIWo
INFO - Found credentials in environment variables.
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Successfully classified video content
INFO - Generating recipe for video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Recipe generated successfully for video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Processing video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Starting to process video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Checking if video MBLTkCrwIWo exists in Firebase
INFO - Document exists: MBLTkCrwIWo
INFO - Cached data retrieved: {'processed_data': '{"classification": {"is_recipe": "recipe", "confidence_level": "HIGH", "confidence_score": 0.9, "recipe_indicators": ["list of ingredients", "cooking instructions", "cooking techniques", "kitchen equipment", "food preparation terminology"], "suggested_tags": ["breakfast", "high protein", "low carb", "power bowl", "healthy"], "recipe_details": {"ingredients": ["eggs", "cottage cheese", "avocado", "cilantro", "red onion", "chili lime seasoning", "everything bagel seasoning", "hot sauce", "cucumbers", "tomatoes", "jalape\\u00f1os"], "instructions": ["Start by making the eggs - boil water, drop eggs in for 7 minutes, then cool in ice bath", "Add cottage cheese to serving dish as base layer", "Slice eggs and add on top of cottage cheese", "Slice avocado and add on top", "Add seasonings, herbs, and other veggies as desired"]}}, "llm_prompt": "\\n        Title: BREAKFAST POWER BOWL\\ud83e\\udd5a\\ud83c\\udf72\\u26a1\\n\\n        Description: BREAKFAST POWER BOWL\\n.\\nI\\u2019ve lost over a 100lbs eating high protein lowcarb meals (not that anything is wrong with carbs), but I\\u2019ve found that eating more protein, lower starch, and moderate fat foods (which is why I love avocado) keeps me more satiated and energized. And for me, the first meal of the day really sets the tone - before I used to crush breakfast sandwiches or sugary breakfasts then get full just an hour or two later. Now, I have almost the same amount of calories, but the foods I eat keep me fuller, longer. And they also keep me energized instead of sluggish.\\n.\\nThis is one of my favorite go-to breakfast combinations. As always, you can modify it however way you like.\\n.\\nHere is how I made it:\\n.\\n1.Start by making your eggs. I like the yolk on the jammier side, so if you want it firmer, just got 30-60 seconds longer. To make these, bring water to a boil. Once boiling, drop your eggs (straight out of your fridge) for a total of 6.5-8 mins. I did 7 minutes. If you want a firme\\n\\n        Transcript excerpt: this is my secret to losing over 100 lb and yes that\'s what i used to look like for me it comes down to eating a combination of ingredients that keeps me full and satiated so that means more protein healthy fats and fewer starches everyone\'s a bit different but if you struggle with keeping full in between meals or you find yourself craving something as soon as you finish breakfast try this combo it\'s got protein there\'s a little bit of everything in each bite and it\'s so good full recipes in the caption check it out\\n        "}', 'description': 'BREAKFAST POWER BOWL\n.\nI‚Äôve lost over a 100lbs eating high protein lowcarb meals (not that anything is wrong with carbs), but I‚Äôve found that eating more protein, lower starch, and moderate fat foods (which is why I love avocado) keeps me more satiated and energized. And for me, the first meal of the day really sets the tone - before I used to crush breakfast sandwiches or sugary breakfasts then get full just an hour or two later. Now, I have almost the same amount of calories, but the foods I eat keep me fuller, longer. And they also keep me energized instead of sluggish.\n.\nThis is one of my favorite go-to breakfast combinations. As always, you can modify it however way you like.\n.\nHere is how I made it:\n.\n1.Start by making your eggs. I like the yolk on the jammier side, so if you want it firmer, just got 30-60 seconds longer. To make these, bring water to a boil. Once boiling, drop your eggs (straight out of your fridge) for a total of 6.5-8 mins. I did 7 minutes. If you want a firmer egg, go on the longer end. Whatever time you decide, when they‚Äôre done, bring them out of the hot water and drop into an ice bath for a few seconds to cool down.\n.\n2.Grab a serving dish (I love bowls) and add 1 serving cottage cheese as the base layer. If you dont like the cottage cheesecurds, you can always process it to get it to be creamier in a small food processor.\n.\n3.Remove the shell from your eggs, slice into your favorite shape, and add on top of the cottage cheese.\n.\n4.Slice half an avocado (should be able 65g or so) thinly and add it to the top.\n.\n5.Finally, add some lower calorie flavorful additions like spices, herbs, or hot sauce. I like to add lots fresh cilantro, thinly sliced red onion, and lots of Chile lime seasoning, everything bagel seasoning, and hot sauce. You can add whatever you like. Cucumbers, tomato, jalape√±os would be great here too, for lower calorie additions. Feel free to get those veggies in!\n.\nIf you try it, be sure to let me know what you think on SHREDHAPPENS\n.\nENJOY!\n.', 'created_at': DatetimeWithNanoseconds(2024, 12, 7, 22, 33, 28, 823640, tzinfo=datetime.timezone.utc), 'title': 'BREAKFAST POWER BOWLü•öüç≤‚ö°', 'video_id': 'MBLTkCrwIWo', 'is_recipe_video': True, 'recipe': {'servings': 1, 'ingredients': ['eggs', 'avocado', 'spinach', 'tomatoes'], 'cooking_time': 7, 'preparation_time': 10, 'serving_suggestions': ['Drizzle with a bit of olive oil or your favorite dressing.'], 'instructions': ['1. Start by making the eggs. Bring water to a boil in a saucepan. Once boiling, gently lower the eggs (straight from the refrigerator) into the water and cook for 7 minutes for a jammy yolk. Remove the eggs from the water and set aside.', '2. Slice the avocado and arrange on the plate.', '3. Add the spinach to the plate.', '4. Slice the tomatoes and add them to the plate.', '5. Top with the cooked eggs.']}, 'transcript': "this is my secret to losing over 100 lb and yes that's what i used to look like for me it comes down to eating a combination of ingredients that keeps me full and satiated so that means more protein healthy fats and fewer starches everyone's a bit different but if you struggle with keeping full in between meals or you find yourself craving something as soon as you finish breakfast try this combo it's got protein there's a little bit of everything in each bite and it's so good full recipes in the caption check it out"}
INFO - Video MBLTkCrwIWo already processed, returning cached data.
INFO - Processing video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Starting to process video URL: https://www.youtube.com/watch?v=MBLTkCrwIWo&list=LL&index=1&ab_channel=ShredHappens
INFO - Checking if video MBLTkCrwIWo exists in Firebase
INFO - Document exists: MBLTkCrwIWo
INFO - Cached data retrieved: {'processed_data': '{"classification": {"is_recipe": "recipe", "confidence_level": "HIGH", "confidence_score": 0.9, "recipe_indicators": ["list of ingredients", "cooking instructions", "cooking techniques", "kitchen equipment", "food preparation terminology"], "suggested_tags": ["breakfast", "high protein", "low carb", "power bowl", "healthy"], "recipe_details": {"ingredients": ["eggs", "cottage cheese", "avocado", "cilantro", "red onion", "chili lime seasoning", "everything bagel seasoning", "hot sauce", "cucumbers", "tomatoes", "jalape\\u00f1os"], "instructions": ["Start by making the eggs - boil water, drop eggs in for 7 minutes, then cool in ice bath", "Add cottage cheese to serving dish as base layer", "Slice eggs and add on top of cottage cheese", "Slice avocado and add on top", "Add seasonings, herbs, and other veggies as desired"]}}, "llm_prompt": "\\n        Title: BREAKFAST POWER BOWL\\ud83e\\udd5a\\ud83c\\udf72\\u26a1\\n\\n        Description: BREAKFAST POWER BOWL\\n.\\nI\\u2019ve lost over a 100lbs eating high protein lowcarb meals (not that anything is wrong with carbs), but I\\u2019ve found that eating more protein, lower starch, and moderate fat foods (which is why I love avocado) keeps me more satiated and energized. And for me, the first meal of the day really sets the tone - before I used to crush breakfast sandwiches or sugary breakfasts then get full just an hour or two later. Now, I have almost the same amount of calories, but the foods I eat keep me fuller, longer. And they also keep me energized instead of sluggish.\\n.\\nThis is one of my favorite go-to breakfast combinations. As always, you can modify it however way you like.\\n.\\nHere is how I made it:\\n.\\n1.Start by making your eggs. I like the yolk on the jammier side, so if you want it firmer, just got 30-60 seconds longer. To make these, bring water to a boil. Once boiling, drop your eggs (straight out of your fridge) for a total of 6.5-8 mins. I did 7 minutes. If you want a firme\\n\\n        Transcript excerpt: this is my secret to losing over 100 lb and yes that\'s what i used to look like for me it comes down to eating a combination of ingredients that keeps me full and satiated so that means more protein healthy fats and fewer starches everyone\'s a bit different but if you struggle with keeping full in between meals or you find yourself craving something as soon as you finish breakfast try this combo it\'s got protein there\'s a little bit of everything in each bite and it\'s so good full recipes in the caption check it out\\n        "}', 'description': 'BREAKFAST POWER BOWL\n.\nI‚Äôve lost over a 100lbs eating high protein lowcarb meals (not that anything is wrong with carbs), but I‚Äôve found that eating more protein, lower starch, and moderate fat foods (which is why I love avocado) keeps me more satiated and energized. And for me, the first meal of the day really sets the tone - before I used to crush breakfast sandwiches or sugary breakfasts then get full just an hour or two later. Now, I have almost the same amount of calories, but the foods I eat keep me fuller, longer. And they also keep me energized instead of sluggish.\n.\nThis is one of my favorite go-to breakfast combinations. As always, you can modify it however way you like.\n.\nHere is how I made it:\n.\n1.Start by making your eggs. I like the yolk on the jammier side, so if you want it firmer, just got 30-60 seconds longer. To make these, bring water to a boil. Once boiling, drop your eggs (straight out of your fridge) for a total of 6.5-8 mins. I did 7 minutes. If you want a firmer egg, go on the longer end. Whatever time you decide, when they‚Äôre done, bring them out of the hot water and drop into an ice bath for a few seconds to cool down.\n.\n2.Grab a serving dish (I love bowls) and add 1 serving cottage cheese as the base layer. If you dont like the cottage cheesecurds, you can always process it to get it to be creamier in a small food processor.\n.\n3.Remove the shell from your eggs, slice into your favorite shape, and add on top of the cottage cheese.\n.\n4.Slice half an avocado (should be able 65g or so) thinly and add it to the top.\n.\n5.Finally, add some lower calorie flavorful additions like spices, herbs, or hot sauce. I like to add lots fresh cilantro, thinly sliced red onion, and lots of Chile lime seasoning, everything bagel seasoning, and hot sauce. You can add whatever you like. Cucumbers, tomato, jalape√±os would be great here too, for lower calorie additions. Feel free to get those veggies in!\n.\nIf you try it, be sure to let me know what you think on SHREDHAPPENS\n.\nENJOY!\n.', 'created_at': DatetimeWithNanoseconds(2024, 12, 7, 22, 33, 28, 823640, tzinfo=datetime.timezone.utc), 'title': 'BREAKFAST POWER BOWLü•öüç≤‚ö°', 'video_id': 'MBLTkCrwIWo', 'is_recipe_video': True, 'recipe': {'servings': 1, 'ingredients': ['eggs', 'avocado', 'spinach', 'tomatoes'], 'cooking_time': 7, 'preparation_time': 10, 'serving_suggestions': ['Drizzle with a bit of olive oil or your favorite dressing.'], 'instructions': ['1. Start by making the eggs. Bring water to a boil in a saucepan. Once boiling, gently lower the eggs (straight from the refrigerator) into the water and cook for 7 minutes for a jammy yolk. Remove the eggs from the water and set aside.', '2. Slice the avocado and arrange on the plate.', '3. Add the spinach to the plate.', '4. Slice the tomatoes and add them to the plate.', '5. Top with the cooked eggs.']}, 'transcript': "this is my secret to losing over 100 lb and yes that's what i used to look like for me it comes down to eating a combination of ingredients that keeps me full and satiated so that means more protein healthy fats and fewer starches everyone's a bit different but if you struggle with keeping full in between meals or you find yourself craving something as soon as you finish breakfast try this combo it's got protein there's a little bit of everything in each bite and it's so good full recipes in the caption check it out"}
INFO - Video MBLTkCrwIWo already processed, returning cached data.
INFO - Processing video URL: https://youtu.be/MBLTkCrwIWo?si=XJ6NyM_oNJRM2EVX
INFO - Starting to process video URL: https://youtu.be/MBLTkCrwIWo?si=XJ6NyM_oNJRM2EVX
INFO - Checking if video MBLTkCrwIWo exists in Firebase
INFO - Document exists: MBLTkCrwIWo
INFO - Cached data retrieved: {'processed_data': '{"classification": {"is_recipe": "recipe", "confidence_level": "HIGH", "confidence_score": 0.9, "recipe_indicators": ["list of ingredients", "cooking instructions", "cooking techniques", "kitchen equipment", "food preparation terminology"], "suggested_tags": ["breakfast", "high protein", "low carb", "power bowl", "healthy"], "recipe_details": {"ingredients": ["eggs", "cottage cheese", "avocado", "cilantro", "red onion", "chili lime seasoning", "everything bagel seasoning", "hot sauce", "cucumbers", "tomatoes", "jalape\\u00f1os"], "instructions": ["Start by making the eggs - boil water, drop eggs in for 7 minutes, then cool in ice bath", "Add cottage cheese to serving dish as base layer", "Slice eggs and add on top of cottage cheese", "Slice avocado and add on top", "Add seasonings, herbs, and other veggies as desired"]}}, "llm_prompt": "\\n        Title: BREAKFAST POWER BOWL\\ud83e\\udd5a\\ud83c\\udf72\\u26a1\\n\\n        Description: BREAKFAST POWER BOWL\\n.\\nI\\u2019ve lost over a 100lbs eating high protein lowcarb meals (not that anything is wrong with carbs), but I\\u2019ve found that eating more protein, lower starch, and moderate fat foods (which is why I love avocado) keeps me more satiated and energized. And for me, the first meal of the day really sets the tone - before I used to crush breakfast sandwiches or sugary breakfasts then get full just an hour or two later. Now, I have almost the same amount of calories, but the foods I eat keep me fuller, longer. And they also keep me energized instead of sluggish.\\n.\\nThis is one of my favorite go-to breakfast combinations. As always, you can modify it however way you like.\\n.\\nHere is how I made it:\\n.\\n1.Start by making your eggs. I like the yolk on the jammier side, so if you want it firmer, just got 30-60 seconds longer. To make these, bring water to a boil. Once boiling, drop your eggs (straight out of your fridge) for a total of 6.5-8 mins. I did 7 minutes. If you want a firme\\n\\n        Transcript excerpt: this is my secret to losing over 100 lb and yes that\'s what i used to look like for me it comes down to eating a combination of ingredients that keeps me full and satiated so that means more protein healthy fats and fewer starches everyone\'s a bit different but if you struggle with keeping full in between meals or you find yourself craving something as soon as you finish breakfast try this combo it\'s got protein there\'s a little bit of everything in each bite and it\'s so good full recipes in the caption check it out\\n        "}', 'description': 'BREAKFAST POWER BOWL\n.\nI‚Äôve lost over a 100lbs eating high protein lowcarb meals (not that anything is wrong with carbs), but I‚Äôve found that eating more protein, lower starch, and moderate fat foods (which is why I love avocado) keeps me more satiated and energized. And for me, the first meal of the day really sets the tone - before I used to crush breakfast sandwiches or sugary breakfasts then get full just an hour or two later. Now, I have almost the same amount of calories, but the foods I eat keep me fuller, longer. And they also keep me energized instead of sluggish.\n.\nThis is one of my favorite go-to breakfast combinations. As always, you can modify it however way you like.\n.\nHere is how I made it:\n.\n1.Start by making your eggs. I like the yolk on the jammier side, so if you want it firmer, just got 30-60 seconds longer. To make these, bring water to a boil. Once boiling, drop your eggs (straight out of your fridge) for a total of 6.5-8 mins. I did 7 minutes. If you want a firmer egg, go on the longer end. Whatever time you decide, when they‚Äôre done, bring them out of the hot water and drop into an ice bath for a few seconds to cool down.\n.\n2.Grab a serving dish (I love bowls) and add 1 serving cottage cheese as the base layer. If you dont like the cottage cheesecurds, you can always process it to get it to be creamier in a small food processor.\n.\n3.Remove the shell from your eggs, slice into your favorite shape, and add on top of the cottage cheese.\n.\n4.Slice half an avocado (should be able 65g or so) thinly and add it to the top.\n.\n5.Finally, add some lower calorie flavorful additions like spices, herbs, or hot sauce. I like to add lots fresh cilantro, thinly sliced red onion, and lots of Chile lime seasoning, everything bagel seasoning, and hot sauce. You can add whatever you like. Cucumbers, tomato, jalape√±os would be great here too, for lower calorie additions. Feel free to get those veggies in!\n.\nIf you try it, be sure to let me know what you think on SHREDHAPPENS\n.\nENJOY!\n.', 'created_at': DatetimeWithNanoseconds(2024, 12, 7, 22, 33, 28, 823640, tzinfo=datetime.timezone.utc), 'title': 'BREAKFAST POWER BOWLü•öüç≤‚ö°', 'video_id': 'MBLTkCrwIWo', 'is_recipe_video': True, 'recipe': {'servings': 1, 'ingredients': ['eggs', 'avocado', 'spinach', 'tomatoes'], 'cooking_time': 7, 'preparation_time': 10, 'serving_suggestions': ['Drizzle with a bit of olive oil or your favorite dressing.'], 'instructions': ['1. Start by making the eggs. Bring water to a boil in a saucepan. Once boiling, gently lower the eggs (straight from the refrigerator) into the water and cook for 7 minutes for a jammy yolk. Remove the eggs from the water and set aside.', '2. Slice the avocado and arrange on the plate.', '3. Add the spinach to the plate.', '4. Slice the tomatoes and add them to the plate.', '5. Top with the cooked eggs.']}, 'transcript': "this is my secret to losing over 100 lb and yes that's what i used to look like for me it comes down to eating a combination of ingredients that keeps me full and satiated so that means more protein healthy fats and fewer starches everyone's a bit different but if you struggle with keeping full in between meals or you find yourself craving something as soon as you finish breakfast try this combo it's got protein there's a little bit of everything in each bite and it's so good full recipes in the caption check it out"}
INFO - Video MBLTkCrwIWo already processed, returning cached data.
INFO - Processing video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Starting to process video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Checking if video Km8oZmwZZmw exists in Firebase
INFO - Cached data retrieved: None
INFO - Video Km8oZmwZZmw not found in cache, processing...
INFO - Fetching video info for Km8oZmwZZmw
INFO - Fetching transcript for Km8oZmwZZmw
ERROR - Error processing video: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 38, in get_transcript
    transcript_list: list[dict] = await loop.run_in_executor(
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_api.py", line 137, in get_transcript
    return cls.list_transcripts(video_id, proxies, cookies).find_transcript(languages).fetch(preserve_formatting=preserve_formatting)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 183, in find_transcript
    return self._find_transcript(language_codes, [self._manually_created_transcripts, self._generated_transcripts])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 219, in _find_transcript
    raise NoTranscriptFound(
youtube_transcript_api._errors.NoTranscriptFound: 
Could not retrieve a transcript for the video https://www.youtube.com/watch?v=Km8oZmwZZmw! This is most likely caused by:

No transcripts were found for any of the requested language codes: ('en',)

For this video (Km8oZmwZZmw) transcripts are available in the following languages:

(MANUALLY CREATED)
None

(GENERATED)
 - ru ("Russian (auto-generated)")[TRANSLATABLE]

(TRANSLATION LANGUAGES)
 - ab ("Abkhazian")
 - aa ("Afar")
 - af ("Afrikaans")
 - ak ("Akan")
 - sq ("Albanian")
 - am ("Amharic")
 - ar ("Arabic")
 - hy ("Armenian")
 - as ("Assamese")
 - ay ("Aymara")
 - az ("Azerbaijani")
 - bn ("Bangla")
 - ba ("Bashkir")
 - eu ("Basque")
 - be ("Belarusian")
 - bho ("Bhojpuri")
 - bs ("Bosnian")
 - br ("Breton")
 - bg ("Bulgarian")
 - my ("Burmese")
 - ca ("Catalan")
 - ceb ("Cebuano")
 - zh-Hans ("Chinese (Simplified)")
 - zh-Hant ("Chinese (Traditional)")
 - co ("Corsican")
 - hr ("Croatian")
 - cs ("Czech")
 - da ("Danish")
 - dv ("Divehi")
 - nl ("Dutch")
 - dz ("Dzongkha")
 - en ("English")
 - eo ("Esperanto")
 - et ("Estonian")
 - ee ("Ewe")
 - fo ("Faroese")
 - fj ("Fijian")
 - fil ("Filipino")
 - fi ("Finnish")
 - fr ("French")
 - gaa ("Ga")
 - gl ("Galician")
 - lg ("Ganda")
 - ka ("Georgian")
 - de ("German")
 - el ("Greek")
 - gn ("Guarani")
 - gu ("Gujarati")
 - ht ("Haitian Creole")
 - ha ("Hausa")
 - haw ("Hawaiian")
 - iw ("Hebrew")
 - hi ("Hindi")
 - hmn ("Hmong")
 - hu ("Hungarian")
 - is ("Icelandic")
 - ig ("Igbo")
 - id ("Indonesian")
 - iu ("Inuktitut")
 - ga ("Irish")
 - it ("Italian")
 - ja ("Japanese")
 - jv ("Javanese")
 - kl ("Kalaallisut")
 - kn ("Kannada")
 - kk ("Kazakh")
 - kha ("Khasi")
 - km ("Khmer")
 - rw ("Kinyarwanda")
 - ko ("Korean")
 - kri ("Krio")
 - ku ("Kurdish")
 - ky ("Kyrgyz")
 - lo ("Lao")
 - la ("Latin")
 - lv ("Latvian")
 - ln ("Lingala")
 - lt ("Lithuanian")
 - lua ("Luba-Lulua")
 - luo ("Luo")
 - lb ("Luxembourgish")
 - mk ("Macedonian")
 - mg ("Malagasy")
 - ms ("Malay")
 - ml ("Malayalam")
 - mt ("Maltese")
 - gv ("Manx")
 - mi ("MƒÅori")
 - mr ("Marathi")
 - mn ("Mongolian")
 - mfe ("Morisyen")
 - ne ("Nepali")
 - new ("Newari")
 - nso ("Northern Sotho")
 - no ("Norwegian")
 - ny ("Nyanja")
 - oc ("Occitan")
 - or ("Odia")
 - om ("Oromo")
 - os ("Ossetic")
 - pam ("Pampanga")
 - ps ("Pashto")
 - fa ("Persian")
 - pl ("Polish")
 - pt ("Portuguese")
 - pt-PT ("Portuguese (Portugal)")
 - pa ("Punjabi")
 - qu ("Quechua")
 - ro ("Romanian")
 - rn ("Rundi")
 - ru ("Russian")
 - sm ("Samoan")
 - sg ("Sango")
 - sa ("Sanskrit")
 - gd ("Scottish Gaelic")
 - sr ("Serbian")
 - crs ("Seselwa Creole French")
 - sn ("Shona")
 - sd ("Sindhi")
 - si ("Sinhala")
 - sk ("Slovak")
 - sl ("Slovenian")
 - so ("Somali")
 - st ("Southern Sotho")
 - es ("Spanish")
 - su ("Sundanese")
 - sw ("Swahili")
 - ss ("Swati")
 - sv ("Swedish")
 - tg ("Tajik")
 - ta ("Tamil")
 - tt ("Tatar")
 - te ("Telugu")
 - th ("Thai")
 - bo ("Tibetan")
 - ti ("Tigrinya")
 - to ("Tongan")
 - ts ("Tsonga")
 - tn ("Tswana")
 - tum ("Tumbuka")
 - tr ("Turkish")
 - tk ("Turkmen")
 - uk ("Ukrainian")
 - ur ("Urdu")
 - ug ("Uyghur")
 - uz ("Uzbek")
 - ve ("Venda")
 - vi ("Vietnamese")
 - war ("Waray")
 - cy ("Welsh")
 - fy ("Western Frisian")
 - wo ("Wolof")
 - xh ("Xhosa")
 - yi ("Yiddish")
 - yo ("Yoruba")
 - zu ("Zulu")

If you are sure that the described cause is not responsible for this error and that a transcript should be retrievable, please create an issue at https://github.com/jdepoix/youtube-transcript-api/issues. Please add which version of youtube_transcript_api you are using and provide the information needed to replicate the error. Also make sure that there are no open issues which already describe your problem!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 68, in process_video
    transcript = await transcript_service.get_transcript(video_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 49, in get_transcript
    except YouTubeTranscriptApi.CouldNotRetrieveTranscript as e:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
INFO - Processing video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Starting to process video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Checking if video Km8oZmwZZmw exists in Firebase
INFO - Cached data retrieved: None
INFO - Video Km8oZmwZZmw not found in cache, processing...
INFO - Fetching video info for Km8oZmwZZmw
INFO - Fetching transcript for Km8oZmwZZmw
ERROR - Error processing video: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 38, in get_transcript
    transcript_list: list[dict] = await loop.run_in_executor(
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_api.py", line 137, in get_transcript
    return cls.list_transcripts(video_id, proxies, cookies).find_transcript(languages).fetch(preserve_formatting=preserve_formatting)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 183, in find_transcript
    return self._find_transcript(language_codes, [self._manually_created_transcripts, self._generated_transcripts])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 219, in _find_transcript
    raise NoTranscriptFound(
youtube_transcript_api._errors.NoTranscriptFound: 
Could not retrieve a transcript for the video https://www.youtube.com/watch?v=Km8oZmwZZmw! This is most likely caused by:

No transcripts were found for any of the requested language codes: ('en',)

For this video (Km8oZmwZZmw) transcripts are available in the following languages:

(MANUALLY CREATED)
None

(GENERATED)
 - ru ("Russian (auto-generated)")[TRANSLATABLE]

(TRANSLATION LANGUAGES)
 - ab ("Abkhazian")
 - aa ("Afar")
 - af ("Afrikaans")
 - ak ("Akan")
 - sq ("Albanian")
 - am ("Amharic")
 - ar ("Arabic")
 - hy ("Armenian")
 - as ("Assamese")
 - ay ("Aymara")
 - az ("Azerbaijani")
 - bn ("Bangla")
 - ba ("Bashkir")
 - eu ("Basque")
 - be ("Belarusian")
 - bho ("Bhojpuri")
 - bs ("Bosnian")
 - br ("Breton")
 - bg ("Bulgarian")
 - my ("Burmese")
 - ca ("Catalan")
 - ceb ("Cebuano")
 - zh-Hans ("Chinese (Simplified)")
 - zh-Hant ("Chinese (Traditional)")
 - co ("Corsican")
 - hr ("Croatian")
 - cs ("Czech")
 - da ("Danish")
 - dv ("Divehi")
 - nl ("Dutch")
 - dz ("Dzongkha")
 - en ("English")
 - eo ("Esperanto")
 - et ("Estonian")
 - ee ("Ewe")
 - fo ("Faroese")
 - fj ("Fijian")
 - fil ("Filipino")
 - fi ("Finnish")
 - fr ("French")
 - gaa ("Ga")
 - gl ("Galician")
 - lg ("Ganda")
 - ka ("Georgian")
 - de ("German")
 - el ("Greek")
 - gn ("Guarani")
 - gu ("Gujarati")
 - ht ("Haitian Creole")
 - ha ("Hausa")
 - haw ("Hawaiian")
 - iw ("Hebrew")
 - hi ("Hindi")
 - hmn ("Hmong")
 - hu ("Hungarian")
 - is ("Icelandic")
 - ig ("Igbo")
 - id ("Indonesian")
 - iu ("Inuktitut")
 - ga ("Irish")
 - it ("Italian")
 - ja ("Japanese")
 - jv ("Javanese")
 - kl ("Kalaallisut")
 - kn ("Kannada")
 - kk ("Kazakh")
 - kha ("Khasi")
 - km ("Khmer")
 - rw ("Kinyarwanda")
 - ko ("Korean")
 - kri ("Krio")
 - ku ("Kurdish")
 - ky ("Kyrgyz")
 - lo ("Lao")
 - la ("Latin")
 - lv ("Latvian")
 - ln ("Lingala")
 - lt ("Lithuanian")
 - lua ("Luba-Lulua")
 - luo ("Luo")
 - lb ("Luxembourgish")
 - mk ("Macedonian")
 - mg ("Malagasy")
 - ms ("Malay")
 - ml ("Malayalam")
 - mt ("Maltese")
 - gv ("Manx")
 - mi ("MƒÅori")
 - mr ("Marathi")
 - mn ("Mongolian")
 - mfe ("Morisyen")
 - ne ("Nepali")
 - new ("Newari")
 - nso ("Northern Sotho")
 - no ("Norwegian")
 - ny ("Nyanja")
 - oc ("Occitan")
 - or ("Odia")
 - om ("Oromo")
 - os ("Ossetic")
 - pam ("Pampanga")
 - ps ("Pashto")
 - fa ("Persian")
 - pl ("Polish")
 - pt ("Portuguese")
 - pt-PT ("Portuguese (Portugal)")
 - pa ("Punjabi")
 - qu ("Quechua")
 - ro ("Romanian")
 - rn ("Rundi")
 - ru ("Russian")
 - sm ("Samoan")
 - sg ("Sango")
 - sa ("Sanskrit")
 - gd ("Scottish Gaelic")
 - sr ("Serbian")
 - crs ("Seselwa Creole French")
 - sn ("Shona")
 - sd ("Sindhi")
 - si ("Sinhala")
 - sk ("Slovak")
 - sl ("Slovenian")
 - so ("Somali")
 - st ("Southern Sotho")
 - es ("Spanish")
 - su ("Sundanese")
 - sw ("Swahili")
 - ss ("Swati")
 - sv ("Swedish")
 - tg ("Tajik")
 - ta ("Tamil")
 - tt ("Tatar")
 - te ("Telugu")
 - th ("Thai")
 - bo ("Tibetan")
 - ti ("Tigrinya")
 - to ("Tongan")
 - ts ("Tsonga")
 - tn ("Tswana")
 - tum ("Tumbuka")
 - tr ("Turkish")
 - tk ("Turkmen")
 - uk ("Ukrainian")
 - ur ("Urdu")
 - ug ("Uyghur")
 - uz ("Uzbek")
 - ve ("Venda")
 - vi ("Vietnamese")
 - war ("Waray")
 - cy ("Welsh")
 - fy ("Western Frisian")
 - wo ("Wolof")
 - xh ("Xhosa")
 - yi ("Yiddish")
 - yo ("Yoruba")
 - zu ("Zulu")

If you are sure that the described cause is not responsible for this error and that a transcript should be retrievable, please create an issue at https://github.com/jdepoix/youtube-transcript-api/issues. Please add which version of youtube_transcript_api you are using and provide the information needed to replicate the error. Also make sure that there are no open issues which already describe your problem!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 68, in process_video
    transcript = await transcript_service.get_transcript(video_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 52, in get_transcript
    except YouTubeTranscriptApi.CouldNotRetrieveTranscript as e:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
INFO - Processing video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Starting to process video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Checking if video Km8oZmwZZmw exists in Firebase
INFO - Cached data retrieved: None
INFO - Video Km8oZmwZZmw not found in cache, processing...
INFO - Fetching video info for Km8oZmwZZmw
INFO - Fetching transcript for Km8oZmwZZmw
ERROR - Error processing video: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 38, in get_transcript
    transcript_list: list[dict] = await loop.run_in_executor(
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_api.py", line 137, in get_transcript
    return cls.list_transcripts(video_id, proxies, cookies).find_transcript(languages).fetch(preserve_formatting=preserve_formatting)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 183, in find_transcript
    return self._find_transcript(language_codes, [self._manually_created_transcripts, self._generated_transcripts])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 219, in _find_transcript
    raise NoTranscriptFound(
youtube_transcript_api._errors.NoTranscriptFound: 
Could not retrieve a transcript for the video https://www.youtube.com/watch?v=Km8oZmwZZmw! This is most likely caused by:

No transcripts were found for any of the requested language codes: ('en',)

For this video (Km8oZmwZZmw) transcripts are available in the following languages:

(MANUALLY CREATED)
None

(GENERATED)
 - ru ("Russian (auto-generated)")[TRANSLATABLE]

(TRANSLATION LANGUAGES)
 - ab ("Abkhazian")
 - aa ("Afar")
 - af ("Afrikaans")
 - ak ("Akan")
 - sq ("Albanian")
 - am ("Amharic")
 - ar ("Arabic")
 - hy ("Armenian")
 - as ("Assamese")
 - ay ("Aymara")
 - az ("Azerbaijani")
 - bn ("Bangla")
 - ba ("Bashkir")
 - eu ("Basque")
 - be ("Belarusian")
 - bho ("Bhojpuri")
 - bs ("Bosnian")
 - br ("Breton")
 - bg ("Bulgarian")
 - my ("Burmese")
 - ca ("Catalan")
 - ceb ("Cebuano")
 - zh-Hans ("Chinese (Simplified)")
 - zh-Hant ("Chinese (Traditional)")
 - co ("Corsican")
 - hr ("Croatian")
 - cs ("Czech")
 - da ("Danish")
 - dv ("Divehi")
 - nl ("Dutch")
 - dz ("Dzongkha")
 - en ("English")
 - eo ("Esperanto")
 - et ("Estonian")
 - ee ("Ewe")
 - fo ("Faroese")
 - fj ("Fijian")
 - fil ("Filipino")
 - fi ("Finnish")
 - fr ("French")
 - gaa ("Ga")
 - gl ("Galician")
 - lg ("Ganda")
 - ka ("Georgian")
 - de ("German")
 - el ("Greek")
 - gn ("Guarani")
 - gu ("Gujarati")
 - ht ("Haitian Creole")
 - ha ("Hausa")
 - haw ("Hawaiian")
 - iw ("Hebrew")
 - hi ("Hindi")
 - hmn ("Hmong")
 - hu ("Hungarian")
 - is ("Icelandic")
 - ig ("Igbo")
 - id ("Indonesian")
 - iu ("Inuktitut")
 - ga ("Irish")
 - it ("Italian")
 - ja ("Japanese")
 - jv ("Javanese")
 - kl ("Kalaallisut")
 - kn ("Kannada")
 - kk ("Kazakh")
 - kha ("Khasi")
 - km ("Khmer")
 - rw ("Kinyarwanda")
 - ko ("Korean")
 - kri ("Krio")
 - ku ("Kurdish")
 - ky ("Kyrgyz")
 - lo ("Lao")
 - la ("Latin")
 - lv ("Latvian")
 - ln ("Lingala")
 - lt ("Lithuanian")
 - lua ("Luba-Lulua")
 - luo ("Luo")
 - lb ("Luxembourgish")
 - mk ("Macedonian")
 - mg ("Malagasy")
 - ms ("Malay")
 - ml ("Malayalam")
 - mt ("Maltese")
 - gv ("Manx")
 - mi ("MƒÅori")
 - mr ("Marathi")
 - mn ("Mongolian")
 - mfe ("Morisyen")
 - ne ("Nepali")
 - new ("Newari")
 - nso ("Northern Sotho")
 - no ("Norwegian")
 - ny ("Nyanja")
 - oc ("Occitan")
 - or ("Odia")
 - om ("Oromo")
 - os ("Ossetic")
 - pam ("Pampanga")
 - ps ("Pashto")
 - fa ("Persian")
 - pl ("Polish")
 - pt ("Portuguese")
 - pt-PT ("Portuguese (Portugal)")
 - pa ("Punjabi")
 - qu ("Quechua")
 - ro ("Romanian")
 - rn ("Rundi")
 - ru ("Russian")
 - sm ("Samoan")
 - sg ("Sango")
 - sa ("Sanskrit")
 - gd ("Scottish Gaelic")
 - sr ("Serbian")
 - crs ("Seselwa Creole French")
 - sn ("Shona")
 - sd ("Sindhi")
 - si ("Sinhala")
 - sk ("Slovak")
 - sl ("Slovenian")
 - so ("Somali")
 - st ("Southern Sotho")
 - es ("Spanish")
 - su ("Sundanese")
 - sw ("Swahili")
 - ss ("Swati")
 - sv ("Swedish")
 - tg ("Tajik")
 - ta ("Tamil")
 - tt ("Tatar")
 - te ("Telugu")
 - th ("Thai")
 - bo ("Tibetan")
 - ti ("Tigrinya")
 - to ("Tongan")
 - ts ("Tsonga")
 - tn ("Tswana")
 - tum ("Tumbuka")
 - tr ("Turkish")
 - tk ("Turkmen")
 - uk ("Ukrainian")
 - ur ("Urdu")
 - ug ("Uyghur")
 - uz ("Uzbek")
 - ve ("Venda")
 - vi ("Vietnamese")
 - war ("Waray")
 - cy ("Welsh")
 - fy ("Western Frisian")
 - wo ("Wolof")
 - xh ("Xhosa")
 - yi ("Yiddish")
 - yo ("Yoruba")
 - zu ("Zulu")

If you are sure that the described cause is not responsible for this error and that a transcript should be retrievable, please create an issue at https://github.com/jdepoix/youtube-transcript-api/issues. Please add which version of youtube_transcript_api you are using and provide the information needed to replicate the error. Also make sure that there are no open issues which already describe your problem!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 68, in process_video
    transcript = await transcript_service.get_transcript(video_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 50, in get_transcript
    except YouTubeTranscriptApi.CouldNotRetrieveTranscript as e:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
INFO - Processing video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Starting to process video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Checking if video Km8oZmwZZmw exists in Firebase
INFO - Cached data retrieved: None
INFO - Video Km8oZmwZZmw not found in cache, processing...
INFO - Fetching video info for Km8oZmwZZmw
INFO - Fetching transcript for Km8oZmwZZmw
ERROR - Error processing video: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 38, in get_transcript
    transcript_list: list[dict] = await loop.run_in_executor(
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_api.py", line 137, in get_transcript
    return cls.list_transcripts(video_id, proxies, cookies).find_transcript(languages).fetch(preserve_formatting=preserve_formatting)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 183, in find_transcript
    return self._find_transcript(language_codes, [self._manually_created_transcripts, self._generated_transcripts])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/youtube_transcript_api/_transcripts.py", line 219, in _find_transcript
    raise NoTranscriptFound(
youtube_transcript_api._errors.NoTranscriptFound: 
Could not retrieve a transcript for the video https://www.youtube.com/watch?v=Km8oZmwZZmw! This is most likely caused by:

No transcripts were found for any of the requested language codes: ('en',)

For this video (Km8oZmwZZmw) transcripts are available in the following languages:

(MANUALLY CREATED)
None

(GENERATED)
 - ru ("Russian (auto-generated)")[TRANSLATABLE]

(TRANSLATION LANGUAGES)
 - ab ("Abkhazian")
 - aa ("Afar")
 - af ("Afrikaans")
 - ak ("Akan")
 - sq ("Albanian")
 - am ("Amharic")
 - ar ("Arabic")
 - hy ("Armenian")
 - as ("Assamese")
 - ay ("Aymara")
 - az ("Azerbaijani")
 - bn ("Bangla")
 - ba ("Bashkir")
 - eu ("Basque")
 - be ("Belarusian")
 - bho ("Bhojpuri")
 - bs ("Bosnian")
 - br ("Breton")
 - bg ("Bulgarian")
 - my ("Burmese")
 - ca ("Catalan")
 - ceb ("Cebuano")
 - zh-Hans ("Chinese (Simplified)")
 - zh-Hant ("Chinese (Traditional)")
 - co ("Corsican")
 - hr ("Croatian")
 - cs ("Czech")
 - da ("Danish")
 - dv ("Divehi")
 - nl ("Dutch")
 - dz ("Dzongkha")
 - en ("English")
 - eo ("Esperanto")
 - et ("Estonian")
 - ee ("Ewe")
 - fo ("Faroese")
 - fj ("Fijian")
 - fil ("Filipino")
 - fi ("Finnish")
 - fr ("French")
 - gaa ("Ga")
 - gl ("Galician")
 - lg ("Ganda")
 - ka ("Georgian")
 - de ("German")
 - el ("Greek")
 - gn ("Guarani")
 - gu ("Gujarati")
 - ht ("Haitian Creole")
 - ha ("Hausa")
 - haw ("Hawaiian")
 - iw ("Hebrew")
 - hi ("Hindi")
 - hmn ("Hmong")
 - hu ("Hungarian")
 - is ("Icelandic")
 - ig ("Igbo")
 - id ("Indonesian")
 - iu ("Inuktitut")
 - ga ("Irish")
 - it ("Italian")
 - ja ("Japanese")
 - jv ("Javanese")
 - kl ("Kalaallisut")
 - kn ("Kannada")
 - kk ("Kazakh")
 - kha ("Khasi")
 - km ("Khmer")
 - rw ("Kinyarwanda")
 - ko ("Korean")
 - kri ("Krio")
 - ku ("Kurdish")
 - ky ("Kyrgyz")
 - lo ("Lao")
 - la ("Latin")
 - lv ("Latvian")
 - ln ("Lingala")
 - lt ("Lithuanian")
 - lua ("Luba-Lulua")
 - luo ("Luo")
 - lb ("Luxembourgish")
 - mk ("Macedonian")
 - mg ("Malagasy")
 - ms ("Malay")
 - ml ("Malayalam")
 - mt ("Maltese")
 - gv ("Manx")
 - mi ("MƒÅori")
 - mr ("Marathi")
 - mn ("Mongolian")
 - mfe ("Morisyen")
 - ne ("Nepali")
 - new ("Newari")
 - nso ("Northern Sotho")
 - no ("Norwegian")
 - ny ("Nyanja")
 - oc ("Occitan")
 - or ("Odia")
 - om ("Oromo")
 - os ("Ossetic")
 - pam ("Pampanga")
 - ps ("Pashto")
 - fa ("Persian")
 - pl ("Polish")
 - pt ("Portuguese")
 - pt-PT ("Portuguese (Portugal)")
 - pa ("Punjabi")
 - qu ("Quechua")
 - ro ("Romanian")
 - rn ("Rundi")
 - ru ("Russian")
 - sm ("Samoan")
 - sg ("Sango")
 - sa ("Sanskrit")
 - gd ("Scottish Gaelic")
 - sr ("Serbian")
 - crs ("Seselwa Creole French")
 - sn ("Shona")
 - sd ("Sindhi")
 - si ("Sinhala")
 - sk ("Slovak")
 - sl ("Slovenian")
 - so ("Somali")
 - st ("Southern Sotho")
 - es ("Spanish")
 - su ("Sundanese")
 - sw ("Swahili")
 - ss ("Swati")
 - sv ("Swedish")
 - tg ("Tajik")
 - ta ("Tamil")
 - tt ("Tatar")
 - te ("Telugu")
 - th ("Thai")
 - bo ("Tibetan")
 - ti ("Tigrinya")
 - to ("Tongan")
 - ts ("Tsonga")
 - tn ("Tswana")
 - tum ("Tumbuka")
 - tr ("Turkish")
 - tk ("Turkmen")
 - uk ("Ukrainian")
 - ur ("Urdu")
 - ug ("Uyghur")
 - uz ("Uzbek")
 - ve ("Venda")
 - vi ("Vietnamese")
 - war ("Waray")
 - cy ("Welsh")
 - fy ("Western Frisian")
 - wo ("Wolof")
 - xh ("Xhosa")
 - yi ("Yiddish")
 - yo ("Yoruba")
 - zu ("Zulu")

If you are sure that the described cause is not responsible for this error and that a transcript should be retrievable, please create an issue at https://github.com/jdepoix/youtube-transcript-api/issues. Please add which version of youtube_transcript_api you are using and provide the information needed to replicate the error. Also make sure that there are no open issues which already describe your problem!

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 68, in process_video
    transcript = await transcript_service.get_transcript(video_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 50, in get_transcript
    except YouTubeTranscriptApi.CouldNotRetrieveTranscript as e:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
INFO - Processing video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Starting to process video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Checking if video Km8oZmwZZmw exists in Firebase
INFO - Cached data retrieved: None
INFO - Video Km8oZmwZZmw not found in cache, processing...
INFO - Fetching video info for Km8oZmwZZmw
INFO - Fetching transcript for Km8oZmwZZmw
INFO - Found credentials in environment variables.
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Successfully classified video content
INFO - Generating recipe for video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Recipe generated successfully for video URL: https://youtu.be/Km8oZmwZZmw?si=5bhcTG4SdL7Kpcrd
INFO - Processing video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Starting to process video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Checking if video bYs8kwP8dhQ exists in Firebase
INFO - Cached data retrieved: None
INFO - Video bYs8kwP8dhQ not found in cache, processing...
INFO - Fetching video info for bYs8kwP8dhQ
INFO - Fetching transcript for bYs8kwP8dhQ
ERROR - Error processing video: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 47, in get_transcript
    return await TranscriptService.generate_summary_textrank(cleaned_text)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 125, in generate_summary_textrank
    TranscriptService.initialize_nltk()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'TranscriptService' has no attribute 'initialize_nltk'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 68, in process_video
    transcript = await transcript_service.get_transcript(video_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/tareqmia/recipify-backend/services/transcript_service.py", line 51, in get_transcript
    except YouTubeTranscriptApi.CouldNotRetrieveTranscript as e:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'YouTubeTranscriptApi' has no attribute 'CouldNotRetrieveTranscript'
INFO - Processing video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Starting to process video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Checking if video bYs8kwP8dhQ exists in Firebase
INFO - Cached data retrieved: None
INFO - Video bYs8kwP8dhQ not found in cache, processing...
INFO - Fetching video info for bYs8kwP8dhQ
INFO - Fetching transcript for bYs8kwP8dhQ
INFO - Found credentials in environment variables.
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Successfully classified video content
INFO - Generating recipe for video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Recipe generated successfully for video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Processing video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Starting to process video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Checking if video bYs8kwP8dhQ exists in Firebase
INFO - Document exists: bYs8kwP8dhQ
INFO - Cached data retrieved: {'processed_data': '{"classification": {"is_recipe": "recipe", "confidence_level": "HIGH", "confidence_score": 0.9, "recipe_indicators": ["ingredient list", "cooking instructions", "kitchen/cooking terminology", "food-related terminology", "teaching/instructional language related to food preparation"], "suggested_tags": ["chicken", "nuggets", "air fryer", "high protein", "low calorie"], "recipe_details": {"ingredients": ["225g Lean Ground Chicken breast", "Garlic Powder", "Salt", "Pepper", "Paprika", "All Purpose Flour", "100g Egg Whites", "50g Panko Breadcrumbs"], "instructions": ["Mash the ground chicken breast with the seasonings (garlic powder, salt, pepper, paprika)", "Form the seasoned chicken into nugget shapes", "Dip the nuggets in flour, egg whites, and panko breadcrumbs", "Air fry the coated nuggets at 385\\u00b0F for 8-10 minutes"], "equipment": ["Air fryer"], "techniques": ["Forming nuggets", "Breading", "Air frying"]}}, "llm_prompt": "\\n        Title: McNUGGETS Crazy Comparison!\\n\\n        Description: Chicken Nuggets Calorie Comparison\\u203c\\ufe0f\\n\\nA couple ingredient swaps and different cooking methods gets you a DOUBLE Nugget that tastes just as good for far fewer calories and far more protein. \\n\\nHeads up! Macros below are for this recipe using EGG whites instead of whole eggs. I know I used whole in my video. Ran out of whites. They\\u2019ll still come out great.\\n\\n\\ud83e\\udd29Macros For This 20PC Nugget:\\n472 Calories\\n50g Carbs\\n4g Fat\\n59g Protein \\n\\nMacros For A MCD 10 PC Nugget:\\n410 Calories\\n26g Carbs\\n23g Fat\\n26g Protein\\n\\nThe Best Muscle Building Nuggets:\\n\\n\\n\\u2705 - 225g Lean Ground Chicken breast (I said 200 in the vid*)\\n\\n\\u2705 - Garlic Powder\\n\\n\\u2705 - Salt & Pepper\\n\\n\\u2705 - Paprika\\n\\n\\u2705 - All Purpose Flour\\n\\n\\u2705 - 100g Egg Whites (I used eggs in my video because I didn\\u2019t have egg whites! You can use either, but whites will reduce calories)\\n\\n\\u2705 - 50g Panko Breadcrumbs\\n\\n        Transcript excerpt: for this 10piece mcnugget you could have this 20 piece airfried mcnugget with the same amount of calories and three times the protein start off at 200 g ground chicken breast and season with salt pepper garlic powder and paprika mash that around and form some nuggets in your desired shape it\'s a dino stegosaur each nug gets dipped in flour egg whites and panko extra crispy bust out your air fryer and chuck them in at 385 for 8 to 10 minutes and you are golden dip them johnny\'s in your favorite low calorie sauce and knock yourself out cuz each of these is only 25 calories these are way better than mcdonald\'s and take no time at all so you got no excuse not to follow me for more healthy stuff\\n        "}', 'description': 'Chicken Nuggets Calorie Comparison‚ÄºÔ∏è\n\nA couple ingredient swaps and different cooking methods gets you a DOUBLE Nugget that tastes just as good for far fewer calories and far more protein. \n\nHeads up! Macros below are for this recipe using EGG whites instead of whole eggs. I know I used whole in my video. Ran out of whites. They‚Äôll still come out great.\n\nü§©Macros For This 20PC Nugget:\n472 Calories\n50g Carbs\n4g Fat\n59g Protein \n\nMacros For A MCD 10 PC Nugget:\n410 Calories\n26g Carbs\n23g Fat\n26g Protein\n\nThe Best Muscle Building Nuggets:\n\n\n‚úÖ - 225g Lean Ground Chicken breast (I said 200 in the vid*)\n\n‚úÖ - Garlic Powder\n\n‚úÖ - Salt & Pepper\n\n‚úÖ - Paprika\n\n‚úÖ - All Purpose Flour\n\n‚úÖ - 100g Egg Whites (I used eggs in my video because I didn‚Äôt have egg whites! You can use either, but whites will reduce calories)\n\n‚úÖ - 50g Panko Breadcrumbs', 'created_at': DatetimeWithNanoseconds(2024, 12, 14, 18, 12, 23, 793869, tzinfo=datetime.timezone.utc), 'title': 'McNUGGETS Crazy Comparison!', 'video_id': 'bYs8kwP8dhQ', 'is_recipe_video': True, 'recipe': {'servings': 20, 'ingredients': ['225g Lean Ground Chicken Breast', '1 tsp Garlic Powder', 'Salt and Pepper to taste', '1 tsp Paprika', '50g All Purpose Flour', '100g Egg Whites', '50g Panko Breadcrumbs'], 'cooking_time': 10, 'preparation_time': 20, 'serving_suggestions': ['Serve with your favorite low-calorie dipping sauce'], 'instructions': ['1. In a large bowl, combine the ground chicken breast, garlic powder, salt, pepper, and paprika. Mix well until the seasonings are evenly distributed.', '2. Divide the seasoned chicken mixture into 20 equal-sized nugget shapes.', '3. Set up a breading station with 3 shallow dishes. In the first dish, add the all purpose flour. In the second dish, add the egg whites. In the third dish, add the panko breadcrumbs.', '4. Dip each chicken nugget first in the flour, then in the egg whites, and finally coat with the panko breadcrumbs, pressing gently to help the breadcrumbs adhere.', '5. Preheat an air fryer to 385¬∞F (195¬∞C).', '6. Working in batches if needed, place the breaded chicken nuggets in a single layer in the air fryer basket. Cook for 8 to 10 minutes, flipping halfway, until golden brown and cooked through.', '7. Serve the McNuggets Crazy Comparison immediately, with your favorite low-calorie dipping sauce on the side.']}, 'transcript': "for this 10piece mcnugget you could have this 20 piece airfried mcnugget with the same amount of calories and three times the protein start off at 200 g ground chicken breast and season with salt pepper garlic powder and paprika mash that around and form some nuggets in your desired shape it's a dino stegosaur each nug gets dipped in flour egg whites and panko extra crispy bust out your air fryer and chuck them in at 385 for 8 to 10 minutes and you are golden dip them johnny's in your favorite low calorie sauce and knock yourself out cuz each of these is only 25 calories these are way better than mcdonald's and take no time at all so you got no excuse not to follow me for more healthy stuff"}
INFO - Video bYs8kwP8dhQ already processed, returning cached data.
INFO - Processing video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Starting to process video URL: https://youtu.be/bYs8kwP8dhQ?si=bcCvnT-wmNQ-nfrW
INFO - Checking if video bYs8kwP8dhQ exists in Firebase
INFO - Document exists: bYs8kwP8dhQ
INFO - Cached data retrieved: {'processed_data': '{"classification": {"is_recipe": "recipe", "confidence_level": "HIGH", "confidence_score": 0.9, "recipe_indicators": ["ingredient list", "cooking instructions", "kitchen/cooking terminology", "food-related terminology", "teaching/instructional language related to food preparation"], "suggested_tags": ["chicken", "nuggets", "air fryer", "high protein", "low calorie"], "recipe_details": {"ingredients": ["225g Lean Ground Chicken breast", "Garlic Powder", "Salt", "Pepper", "Paprika", "All Purpose Flour", "100g Egg Whites", "50g Panko Breadcrumbs"], "instructions": ["Mash the ground chicken breast with the seasonings (garlic powder, salt, pepper, paprika)", "Form the seasoned chicken into nugget shapes", "Dip the nuggets in flour, egg whites, and panko breadcrumbs", "Air fry the coated nuggets at 385\\u00b0F for 8-10 minutes"], "equipment": ["Air fryer"], "techniques": ["Forming nuggets", "Breading", "Air frying"]}}, "llm_prompt": "\\n        Title: McNUGGETS Crazy Comparison!\\n\\n        Description: Chicken Nuggets Calorie Comparison\\u203c\\ufe0f\\n\\nA couple ingredient swaps and different cooking methods gets you a DOUBLE Nugget that tastes just as good for far fewer calories and far more protein. \\n\\nHeads up! Macros below are for this recipe using EGG whites instead of whole eggs. I know I used whole in my video. Ran out of whites. They\\u2019ll still come out great.\\n\\n\\ud83e\\udd29Macros For This 20PC Nugget:\\n472 Calories\\n50g Carbs\\n4g Fat\\n59g Protein \\n\\nMacros For A MCD 10 PC Nugget:\\n410 Calories\\n26g Carbs\\n23g Fat\\n26g Protein\\n\\nThe Best Muscle Building Nuggets:\\n\\n\\n\\u2705 - 225g Lean Ground Chicken breast (I said 200 in the vid*)\\n\\n\\u2705 - Garlic Powder\\n\\n\\u2705 - Salt & Pepper\\n\\n\\u2705 - Paprika\\n\\n\\u2705 - All Purpose Flour\\n\\n\\u2705 - 100g Egg Whites (I used eggs in my video because I didn\\u2019t have egg whites! You can use either, but whites will reduce calories)\\n\\n\\u2705 - 50g Panko Breadcrumbs\\n\\n        Transcript excerpt: for this 10piece mcnugget you could have this 20 piece airfried mcnugget with the same amount of calories and three times the protein start off at 200 g ground chicken breast and season with salt pepper garlic powder and paprika mash that around and form some nuggets in your desired shape it\'s a dino stegosaur each nug gets dipped in flour egg whites and panko extra crispy bust out your air fryer and chuck them in at 385 for 8 to 10 minutes and you are golden dip them johnny\'s in your favorite low calorie sauce and knock yourself out cuz each of these is only 25 calories these are way better than mcdonald\'s and take no time at all so you got no excuse not to follow me for more healthy stuff\\n        "}', 'description': 'Chicken Nuggets Calorie Comparison‚ÄºÔ∏è\n\nA couple ingredient swaps and different cooking methods gets you a DOUBLE Nugget that tastes just as good for far fewer calories and far more protein. \n\nHeads up! Macros below are for this recipe using EGG whites instead of whole eggs. I know I used whole in my video. Ran out of whites. They‚Äôll still come out great.\n\nü§©Macros For This 20PC Nugget:\n472 Calories\n50g Carbs\n4g Fat\n59g Protein \n\nMacros For A MCD 10 PC Nugget:\n410 Calories\n26g Carbs\n23g Fat\n26g Protein\n\nThe Best Muscle Building Nuggets:\n\n\n‚úÖ - 225g Lean Ground Chicken breast (I said 200 in the vid*)\n\n‚úÖ - Garlic Powder\n\n‚úÖ - Salt & Pepper\n\n‚úÖ - Paprika\n\n‚úÖ - All Purpose Flour\n\n‚úÖ - 100g Egg Whites (I used eggs in my video because I didn‚Äôt have egg whites! You can use either, but whites will reduce calories)\n\n‚úÖ - 50g Panko Breadcrumbs', 'created_at': DatetimeWithNanoseconds(2024, 12, 14, 18, 12, 23, 793869, tzinfo=datetime.timezone.utc), 'title': 'McNUGGETS Crazy Comparison!', 'video_id': 'bYs8kwP8dhQ', 'is_recipe_video': True, 'recipe': {'servings': 20, 'ingredients': ['225g Lean Ground Chicken Breast', '1 tsp Garlic Powder', 'Salt and Pepper to taste', '1 tsp Paprika', '50g All Purpose Flour', '100g Egg Whites', '50g Panko Breadcrumbs'], 'cooking_time': 10, 'preparation_time': 20, 'serving_suggestions': ['Serve with your favorite low-calorie dipping sauce'], 'instructions': ['1. In a large bowl, combine the ground chicken breast, garlic powder, salt, pepper, and paprika. Mix well until the seasonings are evenly distributed.', '2. Divide the seasoned chicken mixture into 20 equal-sized nugget shapes.', '3. Set up a breading station with 3 shallow dishes. In the first dish, add the all purpose flour. In the second dish, add the egg whites. In the third dish, add the panko breadcrumbs.', '4. Dip each chicken nugget first in the flour, then in the egg whites, and finally coat with the panko breadcrumbs, pressing gently to help the breadcrumbs adhere.', '5. Preheat an air fryer to 385¬∞F (195¬∞C).', '6. Working in batches if needed, place the breaded chicken nuggets in a single layer in the air fryer basket. Cook for 8 to 10 minutes, flipping halfway, until golden brown and cooked through.', '7. Serve the McNuggets Crazy Comparison immediately, with your favorite low-calorie dipping sauce on the side.']}, 'transcript': "for this 10piece mcnugget you could have this 20 piece airfried mcnugget with the same amount of calories and three times the protein start off at 200 g ground chicken breast and season with salt pepper garlic powder and paprika mash that around and form some nuggets in your desired shape it's a dino stegosaur each nug gets dipped in flour egg whites and panko extra crispy bust out your air fryer and chuck them in at 385 for 8 to 10 minutes and you are golden dip them johnny's in your favorite low calorie sauce and knock yourself out cuz each of these is only 25 calories these are way better than mcdonald's and take no time at all so you got no excuse not to follow me for more healthy stuff"}
INFO - Video bYs8kwP8dhQ already processed, returning cached data.
INFO - Processing video URL: https://youtu.be/B1CQH0cawlQ?si=lsEHFKPqlcJ99pDj
INFO - Starting to process video URL: https://youtu.be/B1CQH0cawlQ?si=lsEHFKPqlcJ99pDj
INFO - Checking if video B1CQH0cawlQ exists in Firebase
INFO - Cached data retrieved: None
INFO - Video B1CQH0cawlQ not found in cache, processing...
INFO - Fetching video info for B1CQH0cawlQ
INFO - Fetching transcript for B1CQH0cawlQ
INFO - Found credentials in environment variables.
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Successfully classified video content
INFO - Processing video URL: https://youtu.be/2wrNgS4jBvU?si=aJDC5bpZPITwbtZ9
INFO - Starting to process video URL: https://youtu.be/2wrNgS4jBvU?si=aJDC5bpZPITwbtZ9
INFO - Checking if video 2wrNgS4jBvU exists in Firebase
INFO - Cached data retrieved: None
INFO - Video 2wrNgS4jBvU not found in cache, processing...
INFO - Fetching video info for 2wrNgS4jBvU
INFO - Fetching transcript for 2wrNgS4jBvU
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Successfully classified video content
INFO - Generating recipe for video URL: https://youtu.be/2wrNgS4jBvU?si=aJDC5bpZPITwbtZ9
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Recipe generated successfully for video URL: https://youtu.be/2wrNgS4jBvU?si=aJDC5bpZPITwbtZ9
INFO - Processing video URL: https://youtu.be/doZVsyCyk1c?si=SkbbqQMd96dkr7Oz
INFO - Starting to process video URL: https://youtu.be/doZVsyCyk1c?si=SkbbqQMd96dkr7Oz
INFO - Checking if video doZVsyCyk1c exists in Firebase
INFO - Cached data retrieved: None
INFO - Video doZVsyCyk1c not found in cache, processing...
INFO - Fetching video info for doZVsyCyk1c
INFO - Duration: 59
INFO - Fetching transcript for doZVsyCyk1c
INFO - Found credentials in environment variables.
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - Successfully classified video content
INFO - Generating recipe for video URL: https://youtu.be/doZVsyCyk1c?si=SkbbqQMd96dkr7Oz
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
ERROR - Error generating recipe: 1 validation error for Recipe
instructions
  Input should be a valid array [type=list_type, input_value='1. Preheat the oven to 2...oes immediately. Enjoy!', input_type=str]
    For further information visit https://errors.pydantic.dev/2.8/v/list_type
2024-12-14 18:38:55.443 - INFO - Processing video URL: https://youtu.be/piAqT3GSyRM?si=GgEqHsSfJa4M9zJE
2024-12-14 18:38:55.444 - INFO - Starting to process video URL: https://youtu.be/piAqT3GSyRM?si=GgEqHsSfJa4M9zJE
2024-12-14 18:38:55.444 - INFO - Checking if video piAqT3GSyRM exists in Firebase
2024-12-14 18:38:55.814 - INFO - Cached data retrieved: None
2024-12-14 18:38:55.815 - INFO - Video piAqT3GSyRM not found in cache, processing...
2024-12-14 18:38:55.815 - INFO - Fetching video info for piAqT3GSyRM
2024-12-14 18:38:56.813 - INFO - Duration: 48
2024-12-14 18:38:56.813 - INFO - Fetching transcript for piAqT3GSyRM
2024-12-14 18:38:57.475 - INFO - Found credentials in environment variables.
2024-12-14 18:39:00.974 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 18:39:00.981 - INFO - Successfully classified video content
2024-12-14 18:39:00.981 - INFO - Generating recipe for video URL: https://youtu.be/piAqT3GSyRM?si=GgEqHsSfJa4M9zJE
2024-12-14 18:39:08.485 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 18:39:08.486 - INFO - Recipe generated successfully for video URL: https://youtu.be/piAqT3GSyRM?si=GgEqHsSfJa4M9zJE
2024-12-14 18:55:48.088 - INFO - Processing video URL: https://youtu.be/iRncdVbCcyg?si=LtU-ZkKjhWLyujX5
2024-12-14 18:55:48.088 - INFO - Starting to process video URL: https://youtu.be/iRncdVbCcyg?si=LtU-ZkKjhWLyujX5
2024-12-14 18:55:48.089 - INFO - Checking if video iRncdVbCcyg exists in Firebase
2024-12-14 18:55:48.553 - INFO - Cached data retrieved: None
2024-12-14 18:55:48.554 - INFO - Video iRncdVbCcyg not found in cache, processing...
2024-12-14 18:55:48.554 - INFO - Fetching video info for iRncdVbCcyg
2024-12-14 18:55:49.795 - INFO - Duration: 45
2024-12-14 18:55:49.795 - INFO - Fetching transcript for iRncdVbCcyg
2024-12-14 18:55:50.554 - INFO - Found credentials in environment variables.
2024-12-14 18:55:55.089 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 18:55:55.102 - INFO - Successfully classified video content
2024-12-14 18:55:55.102 - INFO - ================================================
2024-12-14 18:55:55.102 - INFO - Classification: is_recipe=<ContentCategory.recipe: 'recipe'> confidence_level=<RecipeConfidenceLevel.HIGH: 'HIGH'> confidence_score=0.9 recipe_indicators=['ingredient list', 'cooking instructions', 'cooking techniques', 'kitchen equipment', 'food preparation terminology'] suggested_tags=['breakfast', 'meal prep', 'high protein', 'easy recipes', 'healthy recipes', 'bagels'] recipe_details={'ingredients': ['Beef Bacon, Turkey Bacon, Centre Cut Bacon or Short Cut Bacon (or your choice of bacon - I prefer beef bacon by the brand "Fettayleh" which can be found at a butcher - 40g or 4 slices per bagel)', 'Eggs & Egg Whites', 'Blended Low Fat or Fat Free Cottage Cheese', 'Parmesan Cheese', 'Onion & Garlic Powder', "Bagels (Abe's Low Carb Bagels or Bagel Thins)", 'Cheddar Cheese (Dairyworks Natural Cheddar Cheese Slices)'], 'instructions': ['Cook the bacon in the oven', 'In a bowl, add eggs and egg whites and whisk together', 'Add blended low-fat cottage cheese, parmesan cheese, onion and garlic powder, and mix', 'Cook the egg mixture in a pan to create egg pockets', 'Toast the bagels', 'Assemble the bagels with the egg, bacon, and cheese', 'Wrap and store the assembled bagels in the freezer', 'Reheat the bagels before eating'], 'nutrition': {'calories': 470, 'carbs': 36, 'fat': 14, 'protein': 40}}
2024-12-14 18:55:55.102 - INFO - ================================================
2024-12-14 18:55:55.102 - INFO - Generating recipe for video URL: https://youtu.be/iRncdVbCcyg?si=LtU-ZkKjhWLyujX5
2024-12-14 18:56:00.465 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 18:56:04.436 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 18:56:08.533 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 18:56:08.536 - INFO - Recipe generated successfully for video URL: https://youtu.be/iRncdVbCcyg?si=LtU-ZkKjhWLyujX5
2024-12-14 18:59:33.164 - INFO - Processing video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 18:59:33.164 - INFO - Starting to process video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 18:59:33.165 - INFO - Checking if video vVMZ_-42WCA exists in Firebase
2024-12-14 18:59:33.582 - INFO - Cached data retrieved: None
2024-12-14 18:59:33.583 - INFO - Video vVMZ_-42WCA not found in cache, processing...
2024-12-14 18:59:33.583 - INFO - Fetching video info for vVMZ_-42WCA
2024-12-14 18:59:34.674 - INFO - Duration: 45
2024-12-14 18:59:34.674 - INFO - Fetching transcript for vVMZ_-42WCA
2024-12-14 18:59:35.411 - INFO - Found credentials in environment variables.
2024-12-14 18:59:40.282 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 18:59:40.296 - INFO - Successfully classified video content
2024-12-14 18:59:40.296 - INFO - ================================================
2024-12-14 18:59:40.296 - INFO - Classification: is_recipe=<ContentCategory.recipe: 'recipe'> confidence_level=<RecipeConfidenceLevel.HIGH: 'HIGH'> confidence_score=0.9 recipe_indicators=['list of ingredients', 'cooking instructions', 'cooking techniques', 'food preparation terminology', 'kitchen equipment mentions'] suggested_tags=['recipe', 'kfc', 'zinger', 'burger', 'high protein', 'healthy', 'easy'] recipe_details={'ingredients': ['300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)', '1 Tsp Smoked Paprika', '1 Tsp Chilli Powder', '1/2 Tsp Cayenne Pepper', '1 Tsp Salt', '1 Tsp Garlic & Onion Powder', '1/2 Tsp Black Pepper', '40g Cornflakes (crushed & seasoned)', '1 Whisked Egg (or egg white)', 'Lettuce', '2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)', '40g Light Mayonnaise (Callowfit Mayo Style Sauce)', '1.5 Tbsp Hot Sauce', 'Dash of chilli powder, garlic powder & smoked paprika'], 'instructions': ['Cut & tenderise the chicken into two 150g fillets', 'Season the chicken with the spices and seasonings listed', 'Crush the cornflakes and add the secret herbs & spices', 'Dip the chicken in the whisked egg, then coat in the seasoned cornflakes', 'Air fry or bake the chicken until crispy', 'Make the spicy sauce by mixing the mayo, hot sauce and seasonings', 'Assemble the burgers with the chicken, lettuce and the spicy sauce on the toasted brioche buns']}
2024-12-14 18:59:40.296 - INFO - ================================================
2024-12-14 18:59:40.297 - ERROR - Error processing video: 'dict' object has no attribute 'model_dump'
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 114, in process_video
    "recipe": recipe.model_dump() if recipe else None
              ^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'model_dump'
2024-12-14 19:01:35.537 - INFO - Processing video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 19:01:35.537 - INFO - Starting to process video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 19:01:35.537 - INFO - Checking if video vVMZ_-42WCA exists in Firebase
2024-12-14 19:01:35.875 - INFO - Cached data retrieved: None
2024-12-14 19:01:35.876 - INFO - Video vVMZ_-42WCA not found in cache, processing...
2024-12-14 19:01:35.876 - INFO - Fetching video info for vVMZ_-42WCA
2024-12-14 19:01:36.963 - INFO - Duration: 45
2024-12-14 19:01:36.963 - INFO - Fetching transcript for vVMZ_-42WCA
2024-12-14 19:01:38.529 - INFO - Found credentials in environment variables.
2024-12-14 19:01:43.531 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 19:01:43.535 - INFO - Successfully classified video content
2024-12-14 19:01:43.535 - INFO - ================================================
2024-12-14 19:01:43.535 - INFO - Classification: is_recipe=<ContentCategory.recipe: 'recipe'> confidence_level=<RecipeConfidenceLevel.HIGH: 'HIGH'> confidence_score=0.9 recipe_indicators=['ingredient list', 'cooking instructions', 'kitchen equipment mentions', 'food preparation terminology'] suggested_tags=['high protein', 'healthy', 'kfc', 'zinger burger', 'easy recipe', 'macro friendly', 'weight loss'] recipe_details={'ingredients': ['300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)', '1 Tsp Smoked Paprika', '1 Tsp Chilli Powder', '1/2 Tsp Cayenne Pepper', '1 Tsp Salt', '1 Tsp Garlic & Onion Powder', '1/2 Tsp Black Pepper', '40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)', '1 Whisked Egg (or egg white)', 'Lettuce', '2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)', '40g Light Mayonnaise (Callowfit Mayo Style Sauce)', '1.5 Tbsp Hot Sauce', 'Dash of chilli powder, garlic powder & smoked paprika'], 'instructions': ['Cut & tenderise chicken breast into two 150g fillets', 'Season chicken with spices listed', 'Crush cornflakes and season with herbs/spices listed', 'Dip chicken in whisked egg and coat in seasoned crushed cornflakes', 'Spray with cooking oil and air fry or bake', 'Make spicy sauce by mixing mayo, hot sauce, and seasonings', 'Assemble burger with chicken, lettuce, toasted brioche bun, and spicy sauce']}
2024-12-14 19:01:43.535 - INFO - ================================================
2024-12-14 19:01:43.783 - ERROR - Error processing video: 1 validation error for VideoResponse
recipe
  Input should be a valid dictionary or instance of Recipe [type=model_type, input_value='{"is_recipe":"recipe","c...un, and spicy sauce"]}}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.8/v/model_type
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 127, in process_video
    return VideoResponse(**video_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/main.py", line 193, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for VideoResponse
recipe
  Input should be a valid dictionary or instance of Recipe [type=model_type, input_value='{"is_recipe":"recipe","c...un, and spicy sauce"]}}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.8/v/model_type
2024-12-14 19:02:50.956 - INFO - Processing video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 19:02:50.957 - INFO - Starting to process video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 19:02:50.957 - INFO - Checking if video vVMZ_-42WCA exists in Firebase
2024-12-14 19:02:51.397 - INFO - Document exists: vVMZ_-42WCA
2024-12-14 19:02:51.398 - INFO - Cached data retrieved: {'processed_data': '{"classification": {"is_recipe": "recipe", "confidence_level": "HIGH", "confidence_score": 0.9, "recipe_indicators": ["ingredient list", "cooking instructions", "kitchen equipment mentions", "food preparation terminology"], "suggested_tags": ["high protein", "healthy", "kfc", "zinger burger", "easy recipe", "macro friendly", "weight loss"], "recipe_details": {"ingredients": ["300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)", "1 Tsp Smoked Paprika", "1 Tsp Chilli Powder", "1/2 Tsp Cayenne Pepper", "1 Tsp Salt", "1 Tsp Garlic & Onion Powder", "1/2 Tsp Black Pepper", "40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)", "1 Whisked Egg (or egg white)", "Lettuce", "2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)", "40g Light Mayonnaise (Callowfit Mayo Style Sauce)", "1.5 Tbsp Hot Sauce", "Dash of chilli powder, garlic powder & smoked paprika"], "instructions": ["Cut & tenderise chicken breast into two 150g fillets", "Season chicken with spices listed", "Crush cornflakes and season with herbs/spices listed", "Dip chicken in whisked egg and coat in seasoned crushed cornflakes", "Spray with cooking oil and air fry or bake", "Make spicy sauce by mixing mayo, hot sauce, and seasonings", "Assemble burger with chicken, lettuce, toasted brioche bun, and spicy sauce"]}}, "llm_prompt": "\\n        Title: Easy & Healthy High Protein KFC Zinger \\ud83d\\udd25\\ud83c\\udf54 #kfc #highprotein #healthyrecipes #easyrecipe #fatloss\\n\\n        Description: Ingredients:\\n300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)\\nSeason chicken with:\\n1 Tsp Smoked Paprika\\n1 Tsp Chilli Powder\\n1/2 Tsp Cayenne Pepper\\n1 Tsp Salt\\n1 Tsp Garlic & Onion Powder\\n1/2 Tsp Black Pepper\\n40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)\\n1 Whisked Egg (or egg white)\\nLettuce\\n2 Toasted Brioche Buns (Aldi Seeded Brioche\\nBuns)\\n\\nSecret Herbs & Spices Ingredients:\\n(add a dash of each herb/spice you have available)\\nSmoked Paprika\\nGarlic Powder\\nSalt Basil\\nThyme\\nCelery Salt\\nBlack Pepper\\nOregano\\nWhite Pepper\\nGinger Powder\\nMustard Powder\\nSpicy Sauce:\\n40g Light Mayonnaise (Callowfit Mayo Style\\nSauce)\\n1.5 Tbsp Hot Sauce\\nDash of chilli powder, garlic powder & smoked paprika\\n\\nFind more easy & delicious macro friendly recipes like this one in my digital cook books!\\ud83d\\udc68\\ud83c\\udffb\\u200d\\ud83c\\udf73\\ud83d\\udcd6\\n\\n #kfc #zinger #burger #highprotein #highproteinmeals #fakeaway #easyrecipe #lowcalorie #healthyrecipes #wei\\n\\n        Transcript excerpt: if you\'re trying to build muscle and lose fat but love kfc this high protein zinger burger is bigger tastier and has 44 g of protein with less calories start by cutting your chicken breast into two fillets and beat your meat to slightly flatten it then evenly season it with the seasonings listed on screen and a tiny tiny dash of black pepper on a plate add corn flakes then add the kfc secret herbs and spices which are listed on the screen and the description and crush it into small pieces dip each piece of chicken and egg coat it in the corn flakes and press down to ensure it sticks this is what will make it nice and crispy spray them with a bit of cooking oil then air or bake them with the settings on screen and for the spicy supercharged sauce in a bowl add light mayo a drizzle of hot sauce and a dash of the seasonings on screen then mix it all together spread half of the sauce on a toasted aldi bos bun with some lettuce a piece of chicken the top bun do the same for the other burger and that\'s it enjoy\\n        "}', 'description': 'Ingredients:\n300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)\nSeason chicken with:\n1 Tsp Smoked Paprika\n1 Tsp Chilli Powder\n1/2 Tsp Cayenne Pepper\n1 Tsp Salt\n1 Tsp Garlic & Onion Powder\n1/2 Tsp Black Pepper\n40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)\n1 Whisked Egg (or egg white)\nLettuce\n2 Toasted Brioche Buns (Aldi Seeded Brioche\nBuns)\n\nSecret Herbs & Spices Ingredients:\n(add a dash of each herb/spice you have available)\nSmoked Paprika\nGarlic Powder\nSalt Basil\nThyme\nCelery Salt\nBlack Pepper\nOregano\nWhite Pepper\nGinger Powder\nMustard Powder\nSpicy Sauce:\n40g Light Mayonnaise (Callowfit Mayo Style\nSauce)\n1.5 Tbsp Hot Sauce\nDash of chilli powder, garlic powder & smoked paprika\n\nFind more easy & delicious macro friendly recipes like this one in my digital cook books!üë®üèª\u200düç≥üìñ\n\n #kfc #zinger #burger #highprotein #highproteinmeals #fakeaway #easyrecipe #lowcalorie #healthyrecipes #weightloss', 'created_at': DatetimeWithNanoseconds(2024, 12, 14, 19, 1, 43, 635726, tzinfo=datetime.timezone.utc), 'title': 'Easy & Healthy High Protein KFC Zinger üî•üçî #kfc #highprotein #healthyrecipes #easyrecipe #fatloss', 'video_id': 'vVMZ_-42WCA', 'is_recipe_video': True, 'recipe': '{"is_recipe":"recipe","confidence_level":"HIGH","confidence_score":0.9,"recipe_indicators":["ingredient list","cooking instructions","kitchen equipment mentions","food preparation terminology"],"suggested_tags":["high protein","healthy","kfc","zinger burger","easy recipe","macro friendly","weight loss"],"recipe_details":{"ingredients":["300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)","1 Tsp Smoked Paprika","1 Tsp Chilli Powder","1/2 Tsp Cayenne Pepper","1 Tsp Salt","1 Tsp Garlic & Onion Powder","1/2 Tsp Black Pepper","40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)","1 Whisked Egg (or egg white)","Lettuce","2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)","40g Light Mayonnaise (Callowfit Mayo Style Sauce)","1.5 Tbsp Hot Sauce","Dash of chilli powder, garlic powder & smoked paprika"],"instructions":["Cut & tenderise chicken breast into two 150g fillets","Season chicken with spices listed","Crush cornflakes and season with herbs/spices listed","Dip chicken in whisked egg and coat in seasoned crushed cornflakes","Spray with cooking oil and air fry or bake","Make spicy sauce by mixing mayo, hot sauce, and seasonings","Assemble burger with chicken, lettuce, toasted brioche bun, and spicy sauce"]}}', 'transcript': "if you're trying to build muscle and lose fat but love kfc this high protein zinger burger is bigger tastier and has 44 g of protein with less calories start by cutting your chicken breast into two fillets and beat your meat to slightly flatten it then evenly season it with the seasonings listed on screen and a tiny tiny dash of black pepper on a plate add corn flakes then add the kfc secret herbs and spices which are listed on the screen and the description and crush it into small pieces dip each piece of chicken and egg coat it in the corn flakes and press down to ensure it sticks this is what will make it nice and crispy spray them with a bit of cooking oil then air or bake them with the settings on screen and for the spicy supercharged sauce in a bowl add light mayo a drizzle of hot sauce and a dash of the seasonings on screen then mix it all together spread half of the sauce on a toasted aldi bos bun with some lettuce a piece of chicken the top bun do the same for the other burger and that's it enjoy"}
2024-12-14 19:02:51.399 - INFO - Video vVMZ_-42WCA already processed, returning cached data.
2024-12-14 19:02:51.400 - ERROR - Validation error with cached data: 1 validation error for VideoResponse
recipe
  Input should be a valid dictionary or instance of Recipe [type=model_type, input_value='{"is_recipe":"recipe","c...un, and spicy sauce"]}}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.8/v/model_type
2024-12-14 19:02:51.400 - INFO - Video vVMZ_-42WCA not found in cache, processing...
2024-12-14 19:02:51.400 - INFO - Fetching video info for vVMZ_-42WCA
2024-12-14 19:02:52.333 - INFO - Duration: 45
2024-12-14 19:02:52.333 - INFO - Fetching transcript for vVMZ_-42WCA
2024-12-14 19:02:53.982 - INFO - Found credentials in environment variables.
2024-12-14 19:02:58.794 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 19:02:58.807 - INFO - Successfully classified video content
2024-12-14 19:02:58.807 - INFO - ================================================
2024-12-14 19:02:58.807 - INFO - Classification: is_recipe=<ContentCategory.recipe: 'recipe'> confidence_level=<RecipeConfidenceLevel.HIGH: 'HIGH'> confidence_score=0.95 recipe_indicators=['ingredient list', 'cooking instructions', 'cooking techniques', 'food preparation terminology'] suggested_tags=['kfc', 'zinger', 'burger', 'highprotein', 'highproteinmeals', 'fakeaway', 'easyrecipe', 'lowcalorie', 'healthyrecipes', 'weightloss'] recipe_details={'ingredients': ['300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)', '1 Tsp Smoked Paprika', '1 Tsp Chilli Powder', '1/2 Tsp Cayenne Pepper', '1 Tsp Salt', '1 Tsp Garlic & Onion Powder', '1/2 Tsp Black Pepper', '40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)', '1 Whisked Egg (or egg white)', 'Lettuce', '2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)', '40g Light Mayonnaise (Callowfit Mayo Style Sauce)', '1.5 Tbsp Hot Sauce', 'Dash of chilli powder, garlic powder & smoked paprika'], 'instructions': ['Cut & tenderise the chicken breast into two 150g fillets', 'Season the chicken with the listed spices', 'Crush the cornflakes and mix with the secret herbs & spices', 'Dip the chicken in the whisked egg, then coat in the seasoned cornflakes', 'Air fry or bake the coated chicken', 'Make the spicy sauce by mixing the mayo, hot sauce, and seasonings', 'Assemble the burger on the toasted brioche buns with the chicken, lettuce, and spicy sauce']}
2024-12-14 19:02:58.807 - INFO - ================================================
2024-12-14 19:02:58.902 - ERROR - Error processing video: 4 validation errors for VideoResponse
recipe.preparation_time
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
recipe.cooking_time
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
recipe.servings
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
recipe.serving_suggestions
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
Traceback (most recent call last):
  File "/Users/tareqmia/recipify-backend/api/routes.py", line 127, in process_video
    return VideoResponse(**video_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/main.py", line 193, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 4 validation errors for VideoResponse
recipe.preparation_time
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
recipe.cooking_time
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
recipe.servings
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
recipe.serving_suggestions
  Field required [type=missing, input_value={'ingredients': ['300g Sk...tuce, and spicy sauce']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.8/v/missing
2024-12-14 19:10:35.728 - INFO - Processing video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 19:10:35.729 - INFO - Starting to process video URL: https://youtu.be/vVMZ_-42WCA?si=e4bwNmsNhGR34r0u
2024-12-14 19:10:35.729 - INFO - Checking if video vVMZ_-42WCA exists in Firebase
2024-12-14 19:10:36.084 - INFO - Document exists: vVMZ_-42WCA
2024-12-14 19:10:36.085 - INFO - Cached data retrieved: {'processed_data': '{"classification": {"is_recipe": "recipe", "confidence_level": "HIGH", "confidence_score": 0.9, "recipe_indicators": ["ingredient list", "cooking instructions", "kitchen equipment mentions", "food preparation terminology"], "suggested_tags": ["high protein", "healthy", "kfc", "zinger burger", "easy recipe", "macro friendly", "weight loss"], "recipe_details": {"ingredients": ["300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)", "1 Tsp Smoked Paprika", "1 Tsp Chilli Powder", "1/2 Tsp Cayenne Pepper", "1 Tsp Salt", "1 Tsp Garlic & Onion Powder", "1/2 Tsp Black Pepper", "40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)", "1 Whisked Egg (or egg white)", "Lettuce", "2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)", "40g Light Mayonnaise (Callowfit Mayo Style Sauce)", "1.5 Tbsp Hot Sauce", "Dash of chilli powder, garlic powder & smoked paprika"], "instructions": ["Cut & tenderise chicken breast into two 150g fillets", "Season chicken with spices listed", "Crush cornflakes and season with herbs/spices listed", "Dip chicken in whisked egg and coat in seasoned crushed cornflakes", "Spray with cooking oil and air fry or bake", "Make spicy sauce by mixing mayo, hot sauce, and seasonings", "Assemble burger with chicken, lettuce, toasted brioche bun, and spicy sauce"]}}, "llm_prompt": "\\n        Title: Easy & Healthy High Protein KFC Zinger \\ud83d\\udd25\\ud83c\\udf54 #kfc #highprotein #healthyrecipes #easyrecipe #fatloss\\n\\n        Description: Ingredients:\\n300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)\\nSeason chicken with:\\n1 Tsp Smoked Paprika\\n1 Tsp Chilli Powder\\n1/2 Tsp Cayenne Pepper\\n1 Tsp Salt\\n1 Tsp Garlic & Onion Powder\\n1/2 Tsp Black Pepper\\n40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)\\n1 Whisked Egg (or egg white)\\nLettuce\\n2 Toasted Brioche Buns (Aldi Seeded Brioche\\nBuns)\\n\\nSecret Herbs & Spices Ingredients:\\n(add a dash of each herb/spice you have available)\\nSmoked Paprika\\nGarlic Powder\\nSalt Basil\\nThyme\\nCelery Salt\\nBlack Pepper\\nOregano\\nWhite Pepper\\nGinger Powder\\nMustard Powder\\nSpicy Sauce:\\n40g Light Mayonnaise (Callowfit Mayo Style\\nSauce)\\n1.5 Tbsp Hot Sauce\\nDash of chilli powder, garlic powder & smoked paprika\\n\\nFind more easy & delicious macro friendly recipes like this one in my digital cook books!\\ud83d\\udc68\\ud83c\\udffb\\u200d\\ud83c\\udf73\\ud83d\\udcd6\\n\\n #kfc #zinger #burger #highprotein #highproteinmeals #fakeaway #easyrecipe #lowcalorie #healthyrecipes #wei\\n\\n        Transcript excerpt: if you\'re trying to build muscle and lose fat but love kfc this high protein zinger burger is bigger tastier and has 44 g of protein with less calories start by cutting your chicken breast into two fillets and beat your meat to slightly flatten it then evenly season it with the seasonings listed on screen and a tiny tiny dash of black pepper on a plate add corn flakes then add the kfc secret herbs and spices which are listed on the screen and the description and crush it into small pieces dip each piece of chicken and egg coat it in the corn flakes and press down to ensure it sticks this is what will make it nice and crispy spray them with a bit of cooking oil then air or bake them with the settings on screen and for the spicy supercharged sauce in a bowl add light mayo a drizzle of hot sauce and a dash of the seasonings on screen then mix it all together spread half of the sauce on a toasted aldi bos bun with some lettuce a piece of chicken the top bun do the same for the other burger and that\'s it enjoy\\n        "}', 'description': 'Ingredients:\n300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)\nSeason chicken with:\n1 Tsp Smoked Paprika\n1 Tsp Chilli Powder\n1/2 Tsp Cayenne Pepper\n1 Tsp Salt\n1 Tsp Garlic & Onion Powder\n1/2 Tsp Black Pepper\n40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)\n1 Whisked Egg (or egg white)\nLettuce\n2 Toasted Brioche Buns (Aldi Seeded Brioche\nBuns)\n\nSecret Herbs & Spices Ingredients:\n(add a dash of each herb/spice you have available)\nSmoked Paprika\nGarlic Powder\nSalt Basil\nThyme\nCelery Salt\nBlack Pepper\nOregano\nWhite Pepper\nGinger Powder\nMustard Powder\nSpicy Sauce:\n40g Light Mayonnaise (Callowfit Mayo Style\nSauce)\n1.5 Tbsp Hot Sauce\nDash of chilli powder, garlic powder & smoked paprika\n\nFind more easy & delicious macro friendly recipes like this one in my digital cook books!üë®üèª\u200düç≥üìñ\n\n #kfc #zinger #burger #highprotein #highproteinmeals #fakeaway #easyrecipe #lowcalorie #healthyrecipes #weightloss', 'created_at': DatetimeWithNanoseconds(2024, 12, 14, 19, 1, 43, 635726, tzinfo=datetime.timezone.utc), 'title': 'Easy & Healthy High Protein KFC Zinger üî•üçî #kfc #highprotein #healthyrecipes #easyrecipe #fatloss', 'video_id': 'vVMZ_-42WCA', 'is_recipe_video': True, 'recipe': '{"is_recipe":"recipe","confidence_level":"HIGH","confidence_score":0.9,"recipe_indicators":["ingredient list","cooking instructions","kitchen equipment mentions","food preparation terminology"],"suggested_tags":["high protein","healthy","kfc","zinger burger","easy recipe","macro friendly","weight loss"],"recipe_details":{"ingredients":["300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)","1 Tsp Smoked Paprika","1 Tsp Chilli Powder","1/2 Tsp Cayenne Pepper","1 Tsp Salt","1 Tsp Garlic & Onion Powder","1/2 Tsp Black Pepper","40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)","1 Whisked Egg (or egg white)","Lettuce","2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)","40g Light Mayonnaise (Callowfit Mayo Style Sauce)","1.5 Tbsp Hot Sauce","Dash of chilli powder, garlic powder & smoked paprika"],"instructions":["Cut & tenderise chicken breast into two 150g fillets","Season chicken with spices listed","Crush cornflakes and season with herbs/spices listed","Dip chicken in whisked egg and coat in seasoned crushed cornflakes","Spray with cooking oil and air fry or bake","Make spicy sauce by mixing mayo, hot sauce, and seasonings","Assemble burger with chicken, lettuce, toasted brioche bun, and spicy sauce"]}}', 'transcript': "if you're trying to build muscle and lose fat but love kfc this high protein zinger burger is bigger tastier and has 44 g of protein with less calories start by cutting your chicken breast into two fillets and beat your meat to slightly flatten it then evenly season it with the seasonings listed on screen and a tiny tiny dash of black pepper on a plate add corn flakes then add the kfc secret herbs and spices which are listed on the screen and the description and crush it into small pieces dip each piece of chicken and egg coat it in the corn flakes and press down to ensure it sticks this is what will make it nice and crispy spray them with a bit of cooking oil then air or bake them with the settings on screen and for the spicy supercharged sauce in a bowl add light mayo a drizzle of hot sauce and a dash of the seasonings on screen then mix it all together spread half of the sauce on a toasted aldi bos bun with some lettuce a piece of chicken the top bun do the same for the other burger and that's it enjoy"}
2024-12-14 19:10:36.085 - INFO - Video vVMZ_-42WCA already processed, returning cached data.
2024-12-14 19:10:36.086 - ERROR - Validation error with cached data: 1 validation error for VideoResponse
recipe
  Input should be a valid dictionary or instance of Recipe [type=model_type, input_value='{"is_recipe":"recipe","c...un, and spicy sauce"]}}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.8/v/model_type
2024-12-14 19:10:36.086 - INFO - Video vVMZ_-42WCA not found in cache, processing...
2024-12-14 19:10:36.086 - INFO - Fetching video info for vVMZ_-42WCA
2024-12-14 19:10:37.122 - INFO - Duration: 45
2024-12-14 19:10:37.122 - INFO - Fetching transcript for vVMZ_-42WCA
2024-12-14 19:10:38.529 - INFO - Found credentials in environment variables.
2024-12-14 19:10:43.401 - INFO - HTTP Request: POST https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1:0/invoke "HTTP/1.1 200 OK"
2024-12-14 19:10:43.414 - INFO - Successfully classified video content
2024-12-14 19:10:43.414 - INFO - ================================================
2024-12-14 19:10:43.414 - INFO - Classification: is_recipe=<ContentCategory.recipe: 'recipe'> confidence_level=<RecipeConfidenceLevel.HIGH: 'HIGH'> confidence_score=0.9 recipe_indicators=['ingredient list', 'cooking instructions', 'kitchen/cooking terminology', 'food-related terminology', 'teaching/instructional language related to food preparation'] suggested_tags=['kfc', 'zinger', 'burger', 'highprotein', 'healthyrecipes', 'easyrecipe', 'lowcalorie', 'weightloss'] recipe_details={'ingredients': ['300g Skinless Chicken Breast (raw weight - cut & tenderise into two 150g fillets)', '1 Tsp Smoked Paprika', '1 Tsp Chilli Powder', '1/2 Tsp Cayenne Pepper', '1 Tsp Salt', '1 Tsp Garlic & Onion Powder', '1/2 Tsp Black Pepper', '40g Cornflakes (crushed & seasoned - not all of this is used. each piece of chicken picked up 8 - 12g of crushed cornflakes)', '1 Whisked Egg (or egg white)', 'Lettuce', '2 Toasted Brioche Buns (Aldi Seeded Brioche Buns)', '40g Light Mayonnaise (Callowfit Mayo Style Sauce)', '1.5 Tbsp Hot Sauce', 'Dash of chilli powder, garlic powder & smoked paprika'], 'instructions': ['Cut & tenderise chicken into two 150g fillets', 'Season chicken with the spices listed', 'Crush cornflakes and season with herbs/spices', 'Dip chicken in whisked egg then coat in crushed cornflakes', 'Air fry or bake chicken', 'Mix mayo, hot sauce, and spices for the sauce', 'Assemble burger with chicken, lettuce, toasted buns, and sauce']}
2024-12-14 19:10:43.414 - INFO - ================================================
